<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Hand Motion Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>

<style>
  body {
    margin: 0;
    height: 100vh;
    background: #111;
    overflow: hidden;
  }
  video { display: none; }

  #dot {
    position: absolute;
    width: 30px;
    height: 30px;
    border-radius: 50%;
    background: red;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }

  #txt {
    position: fixed;
    bottom: 10px;
    width: 100%;
    text-align: center;
    color: white;
  }
</style>
</head>

<body>

<video id="video" autoplay playsinline></video>
<div id="dot"></div>
<div id="txt">Show ONE open hand</div>

<script>
const video = document.getElementById("video");
const dot = document.getElementById("dot");

const hands = new Hands({
  locateFile: f => `https://cdn.jsdelivr.net/npm/@mediapipe/hands/${f}`
});

hands.setOptions({
  maxNumHands: 1,
  minDetectionConfidence: 0.5,
  minTrackingConfidence: 0.5
});

hands.onResults(res => {
  if (!res.multiHandLandmarks) return;

  const palm = res.multiHandLandmarks[0][9];
  const x = palm.x * window.innerWidth;
  const y = palm.y * window.innerHeight;

  dot.style.left = x + "px";
  dot.style.top = y + "px";
});

const camera = new Camera(video, {
  onFrame: async () => {
    await hands.send({ image: video });
  },
  width: 640,
  height: 480
});

camera.start();
</script>

</body>
</html>
